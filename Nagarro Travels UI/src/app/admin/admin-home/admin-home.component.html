 <div class="adminhome">
<h1>Ticket Data List</h1><hr>
 <h4>Filter Here </h4>
 <mat-form-field>
   <input id="inputs" class="form-control" matInput (keyup)="applyFilter($event.target.value)" type="text" >
 </mat-form-field><br>

 <div class="table-responsive">
    <table class="table" mat-table [dataSource]="tickets" matSort>
      <!-- ID Column -->
      <ng-container matColumnDef="id" >
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
        <td mat-cell *matCellDef="let row"> <button class="btn btn-primary" (click)="populatedata(row)" data-toggle="modal" data-target="#exampleModalCenter">{{row.id}}</button> </td>
      </ng-container>
      <!-- Employee Name Column -->
      <ng-container matColumnDef="request">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Request Type </th>
        <td mat-cell *matCellDef="let row"> {{row.request}} </td>
      </ng-container>
      <!-- Color Column -->
      <ng-container matColumnDef="priority">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Priority </th>
        <td mat-cell *matCellDef="let row"> {{row.priority}} </td>
      </ng-container>
      <!-- Hours Column -->
      <ng-container matColumnDef="travelcity">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Travel City </th>
        <td mat-cell *matCellDef="let row"> {{row.travelcity}} </td>      
      </ng-container>
      <ng-container matColumnDef="fromloc">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>From Location </th>
        <td mat-cell *matCellDef="let row" > {{row.fromloc}} </td>      
      </ng-container>
      <ng-container matColumnDef="submitdate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>submitdate</th>
        <td mat-cell *matCellDef="let row"> {{row.submitdate}} </td>      
      </ng-container>
      <ng-container matColumnDef="startdate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Trave Start Date </th>
        <td mat-cell *matCellDef="let row"> {{row.startdate}} </td>      
      </ng-container>
      <ng-container matColumnDef="enddate" >
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Travel End Date </th>
        <td mat-cell *matCellDef="let row"> {{row.enddate}} </td>      
      </ng-container>
     
      <ng-container matColumnDef="project">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Project </th>
        <td mat-cell *matCellDef="let row"> {{row.project}} </td>      
      </ng-container>
    
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
        <td mat-cell *matCellDef="let row"> {{row.status}} </td>      
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
  </div>
    

  <div class="modal fade"id="exampleModalCenter"tabindex="-1"role="dialog"aria-labelledby="exampleModalCenterTitle"aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered"role="document">
  <div class="modal-content"*ngIf="data">
  <div class="modal-header">
  <h5 class="modal-title"id="exampleModalCenterTitle">{{data.project}}</h5>
  <button type="button"class="close"data-dismiss="modal"aria-label="Close">
  <span aria-hidden="true">&times;</span>
  </button>
  </div>
  <div class="modal-body" style="background-color: rgba(214, 210, 210, 0.637);">
            Request Type:&nbsp;&nbsp;{{data.request}}<br>
            From Location:&nbsp;&nbsp;{{data.fromloc}}<br>
            Travel City:&nbsp;&nbsp;{{data.travelcity}}<br>
            Start Date:&nbsp;&nbsp;{{data.startdate}}<br>
            End Date:&nbsp;&nbsp;{{data.enddate}}<br>
            Status:&nbsp;&nbsp;{{data.status}}<br>
            Additional Info:&nbsp;&nbsp;{{data.info}}
            <br>
            <select id="changedstatus" class="form-control" name="priority" style="width:fit-content">
              <option value="inprocess">In Process</option>
              <option value="Done">Done</option>
              <option value="Submitted">Submitted</option>
          </select>
  </div>
  <input type="file" class="btn"  (change)="handleFileInput($event.target.files)" id="file" name="image" accept="application/pdf">
  <div class="modal-footer">
  
<button type="button"(click)="updatestatus(data.id)"class="btn btn-primary" data-dismiss="modal">Update Status</button>


  <button type="button" class="btn btn-primary" (click)="savechanges(data.id)" data-dismiss="modal" >Save changes</button>
  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
  </div>
  </div>
  
  </div>
 </div>
 </div>
  
